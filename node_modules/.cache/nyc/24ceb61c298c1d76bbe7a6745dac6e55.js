var cov_1m3qz54l2u=function(){var path="/home/hugo/Documentos/node-projct/api-node/app/models/user.js",hash="895f2f0cdab814726ebef5226fd6282c92aac391",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/hugo/Documentos/node-projct/api-node/app/models/user.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:15},end:{line:2,column:34}},"2":{start:{line:3,column:12},end:{line:3,column:35}},"3":{start:{line:4,column:19},end:{line:4,column:47}},"4":{start:{line:6,column:19},end:{line:32,column:2}},"5":{start:{line:34,column:0},end:{line:38,column:3}},"6":{start:{line:35,column:2},end:{line:35,column:43}},"7":{start:{line:35,column:36},end:{line:35,column:43}},"8":{start:{line:37,column:2},end:{line:37,column:54}},"9":{start:{line:40,column:0},end:{line:50,column:2}},"10":{start:{line:42,column:4},end:{line:42,column:51}},"11":{start:{line:46,column:4},end:{line:48,column:7}},"12":{start:{line:52,column:0},end:{line:52,column:35}}},fnMap:{"0":{name:"hashPassword",decl:{start:{line:34,column:38},end:{line:34,column:50}},loc:{start:{line:34,column:57},end:{line:38,column:1}},line:34},"1":{name:"(anonymous_1)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:24},end:{line:43,column:3}},line:41},"2":{name:"(anonymous_2)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:18},end:{line:49,column:3}},line:45}},branchMap:{"0":{loc:{start:{line:35,column:2},end:{line:35,column:43}},type:"if",locations:[{start:{line:35,column:2},end:{line:35,column:43}},{start:{line:35,column:2},end:{line:35,column:43}}],line:35}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const mongoose=(cov_1m3qz54l2u.s[0]++,require('mongoose'));const bcrypt=(cov_1m3qz54l2u.s[1]++,require('bcryptjs'));const jwt=(cov_1m3qz54l2u.s[2]++,require('jsonwebtoken'));const authConfig=(cov_1m3qz54l2u.s[3]++,require('../../config/auth'));const UserSchema=(cov_1m3qz54l2u.s[4]++,new mongoose.Schema({name:{type:String,required:true},username:{type:String,required:true,unique:true},email:{type:String,required:true,unique:true,lowercase:true},password:{type:String,required:true},followers:[{type:mongoose.Schema.ObjectId,ref:'User'}],following:[{type:mongoose.Schema.ObjectId,ref:'User'}],createdAt:{type:Date,default:Date.now}}));cov_1m3qz54l2u.s[5]++;UserSchema.pre('save',async function hashPassword(next){cov_1m3qz54l2u.f[0]++;cov_1m3qz54l2u.s[6]++;if(!this.isModified('password')){cov_1m3qz54l2u.b[0][0]++;cov_1m3qz54l2u.s[7]++;next();}else{cov_1m3qz54l2u.b[0][1]++;}cov_1m3qz54l2u.s[8]++;this.password=await bcrypt.hash(this.password,8);});cov_1m3qz54l2u.s[9]++;UserSchema.methods={compareHash(password){cov_1m3qz54l2u.f[1]++;cov_1m3qz54l2u.s[10]++;return bcrypt.compare(password,this.password);},generateToken(){cov_1m3qz54l2u.f[2]++;cov_1m3qz54l2u.s[11]++;return jwt.sign({id:this.id},authConfig.secret,{expiresIn:86400});}};cov_1m3qz54l2u.s[12]++;mongoose.model('User',UserSchema);